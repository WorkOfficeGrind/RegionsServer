{"error":"Could not connect to any servers in your MongoDB Atlas cluster. One common reason is that you're trying to access the database from an IP that isn't whitelisted. Make sure your current IP address is on your Atlas cluster's IP whitelist: https://www.mongodb.com/docs/atlas/security-whitelist/","level":"error","message":"MongoDB connection error","service":"banking-investment-api","stack":"MongooseServerSelectionError: Could not connect to any servers in your MongoDB Atlas cluster. One common reason is that you're trying to access the database from an IP that isn't whitelisted. Make sure your current IP address is on your Atlas cluster's IP whitelist: https://www.mongodb.com/docs/atlas/security-whitelist/\n    at _handleConnectionErrors (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\connection.js:1165:11)\n    at NativeConnection.openUri (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\connection.js:1096:11)\n    at async connectDB (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\config\\db.js:26:18)","timestamp":"2025-03-19 00:00:24"}
{"error":"Server selection timed out after 5000 ms","level":"error","message":"MongoDB connection error","service":"banking-investment-api","stack":"MongooseServerSelectionError: Server selection timed out after 5000 ms\n    at _handleConnectionErrors (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\connection.js:1165:11)\n    at NativeConnection.openUri (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\connection.js:1096:11)\n    at async connectDB (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\config\\db.js:26:18)","timestamp":"2025-03-19 00:00:36"}
{"error":"Server selection timed out after 5000 ms","level":"error","message":"MongoDB connection error","service":"banking-investment-api","stack":"MongooseServerSelectionError: Server selection timed out after 5000 ms\n    at _handleConnectionErrors (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\connection.js:1165:11)\n    at NativeConnection.openUri (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\connection.js:1096:11)\n    at async connectDB (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\config\\db.js:26:18)","timestamp":"2025-03-19 02:50:59"}
{"error":"Could not connect to any servers in your MongoDB Atlas cluster. One common reason is that you're trying to access the database from an IP that isn't whitelisted. Make sure your current IP address is on your Atlas cluster's IP whitelist: https://www.mongodb.com/docs/atlas/security-whitelist/","level":"error","message":"MongoDB connection error","service":"banking-investment-api","stack":"MongooseServerSelectionError: Could not connect to any servers in your MongoDB Atlas cluster. One common reason is that you're trying to access the database from an IP that isn't whitelisted. Make sure your current IP address is on your Atlas cluster's IP whitelist: https://www.mongodb.com/docs/atlas/security-whitelist/\n    at _handleConnectionErrors (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\connection.js:1165:11)\n    at NativeConnection.openUri (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\connection.js:1096:11)\n    at async connectDB (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\config\\db.js:26:18)","timestamp":"2025-03-19 03:00:08"}
{"error":"Server selection timed out after 5000 ms","level":"error","message":"MongoDB connection error","service":"banking-investment-api","stack":"MongooseServerSelectionError: Server selection timed out after 5000 ms\n    at _handleConnectionErrors (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\connection.js:1165:11)\n    at NativeConnection.openUri (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\connection.js:1096:11)\n    at async connectDB (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\config\\db.js:26:18)","timestamp":"2025-03-19 03:03:39"}
{"error":"Server selection timed out after 5000 ms","level":"error","message":"MongoDB connection error","service":"banking-investment-api","stack":"MongooseServerSelectionError: Server selection timed out after 5000 ms\n    at _handleConnectionErrors (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\connection.js:1165:11)\n    at NativeConnection.openUri (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\connection.js:1096:11)\n    at async connectDB (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\config\\db.js:26:18)","timestamp":"2025-03-19 03:06:43"}
{"error":"PreloadedWallet validation failed: privateKey: Private key is required","level":"error","message":"Error creating preloaded wallet","requestId":"f736f7c9-af74-4d4d-a079-6f060fb64559","service":"banking-investment-api","stack":"ValidationError: PreloadedWallet validation failed: privateKey: Private key is required\n    at Document.invalidate (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\document.js:3329:32)\n    at C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\document.js:3090:17\n    at C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\schemaType.js:1407:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)","timestamp":"2025-03-19 03:12:21"}
{"error":"Could not connect to any servers in your MongoDB Atlas cluster. One common reason is that you're trying to access the database from an IP that isn't whitelisted. Make sure your current IP address is on your Atlas cluster's IP whitelist: https://www.mongodb.com/docs/atlas/security-whitelist/","level":"error","message":"MongoDB connection error","service":"banking-investment-api","stack":"MongooseServerSelectionError: Could not connect to any servers in your MongoDB Atlas cluster. One common reason is that you're trying to access the database from an IP that isn't whitelisted. Make sure your current IP address is on your Atlas cluster's IP whitelist: https://www.mongodb.com/docs/atlas/security-whitelist/\n    at _handleConnectionErrors (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\connection.js:1165:11)\n    at NativeConnection.openUri (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\connection.js:1096:11)\n    at async connectDB (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\config\\db.js:26:18)","timestamp":"2025-03-19 03:15:25"}
{"error":"Server selection timed out after 5000 ms","level":"error","message":"MongoDB connection error","service":"banking-investment-api","stack":"MongooseServerSelectionError: Server selection timed out after 5000 ms\n    at _handleConnectionErrors (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\connection.js:1165:11)\n    at NativeConnection.openUri (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\connection.js:1096:11)\n    at async connectDB (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\config\\db.js:26:18)","timestamp":"2025-03-19 03:53:19"}
{"date":"Wed Mar 19 2025 04:10:41 GMT+0100 (West Africa Standard Time)","error":{},"level":"error","message":"unhandledRejection: mongoose is not defined\nReferenceError: mongoose is not defined\n    at assignWalletToSelf (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\controllers\\preloadedWalletController.js:341:21)\n    at Layer.handle [as handle_request] (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\middlewares\\authMiddleware.js:58:12\n    at strategy.success (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\passport\\lib\\middleware\\authenticate.js:222:18)","os":{"loadavg":[0,0,0],"uptime":39690.89},"process":{"argv":["C:\\Program Files\\nodejs\\node.exe","C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\server.js"],"cwd":"C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b","execPath":"C:\\Program Files\\nodejs\\node.exe","gid":null,"memoryUsage":{"arrayBuffers":18724144,"external":21102033,"heapTotal":35082240,"heapUsed":32224672,"rss":46792704},"pid":15044,"uid":null,"version":"v20.17.0"},"rejection":true,"service":"banking-investment-api","stack":"ReferenceError: mongoose is not defined\n    at assignWalletToSelf (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\controllers\\preloadedWalletController.js:341:21)\n    at Layer.handle [as handle_request] (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\middlewares\\authMiddleware.js:58:12\n    at strategy.success (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\passport\\lib\\middleware\\authenticate.js:222:18)","timestamp":"2025-03-19 04:10:41","trace":[{"column":21,"file":"C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\controllers\\preloadedWalletController.js","function":"assignWalletToSelf","line":341,"method":null,"native":false},{"column":5,"file":"C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\express\\lib\\router\\layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\express\\lib\\router\\route.js","function":"next","line":149,"method":null,"native":false},{"column":3,"file":"C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\express\\lib\\router\\route.js","function":"Route.dispatch","line":119,"method":"dispatch","native":false},{"column":5,"file":"C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\express\\lib\\router\\layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":15,"file":"C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\express\\lib\\router\\index.js","function":null,"line":284,"method":null,"native":false},{"column":12,"file":"C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\express\\lib\\router\\index.js","function":"Function.process_params","line":346,"method":"process_params","native":false},{"column":10,"file":"C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\express\\lib\\router\\index.js","function":"next","line":280,"method":null,"native":false},{"column":12,"file":"C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\middlewares\\authMiddleware.js","function":null,"line":58,"method":null,"native":false},{"column":18,"file":"C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\passport\\lib\\middleware\\authenticate.js","function":"strategy.success","line":222,"method":"success","native":false}]}
{"error":"mongoose is not defined","level":"error","message":"UNHANDLED REJECTION! 💥 Shutting down...","name":"ReferenceError","service":"banking-investment-api","stack":"ReferenceError: mongoose is not defined\n    at assignWalletToSelf (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\controllers\\preloadedWalletController.js:341:21)\n    at Layer.handle [as handle_request] (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\middlewares\\authMiddleware.js:58:12\n    at strategy.success (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\passport\\lib\\middleware\\authenticate.js:222:18)","timestamp":"2025-03-19 04:10:41"}
{"error":"Server selection timed out after 5000 ms","level":"error","message":"MongoDB connection error","service":"banking-investment-api","stack":"MongooseServerSelectionError: Server selection timed out after 5000 ms\n    at _handleConnectionErrors (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\connection.js:1165:11)\n    at NativeConnection.openUri (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\connection.js:1096:11)\n    at async connectDB (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\config\\db.js:26:18)","timestamp":"2025-03-19 04:20:06"}
{"currency":"ETH","error":"E11000 duplicate key error collection: prime.wallets index: address_1 dup key: { address: \"kjokjoiwjwkerji4r4nr94rnwjhrwinjjg9rsigr\" }","level":"error","message":"Error assigning wallet to user","requestId":"06b22f30-0ca4-4934-818e-4d6baf2d8c94","service":"banking-investment-api","stack":"MongoServerError: E11000 duplicate key error collection: prime.wallets index: address_1 dup key: { address: \"kjokjoiwjwkerji4r4nr94rnwjhrwinjjg9rsigr\" }\n    at InsertOneOperation.execute (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongodb\\lib\\operations\\insert.js:51:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async tryOperation (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:207:20)\n    at async executeOperation (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:75:16)\n    at async Collection.insertOne (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongodb\\lib\\collection.js:157:16)","timestamp":"2025-03-19 04:47:13","userId":"67c6aa2ae2f2dd28c65b2e1e"}
{"duration":"2153ms","ip":"::ffff:172.20.10.1","level":"error","message":"Response 500 sent for POST /api/v1/preloaded-wallets/assign","method":"POST","path":"/api/v1/preloaded-wallets/assign","requestId":"06b22f30-0ca4-4934-818e-4d6baf2d8c94","response":{"errorCode":"SERVER_ERROR","message":"Failed to assign wallet to user","success":false,"title":"Error"},"service":"banking-investment-api","size":104,"statusCode":500,"timestamp":"2025-03-19 04:47:13","userAgent":"Expo/1017655 CFNetwork/1496.0.7 Darwin/23.5.0","userId":"unauthenticated"}
{"currency":"ETH","error":"E11000 duplicate key error collection: prime.wallets index: address_1 dup key: { address: \"kjokjoiwjwkerji4r4nr94rnwjhrwinjjg9rsigr\" }","level":"error","message":"Error assigning wallet to user","requestId":"223d2d61-aeae-4693-b67e-bd1f815a07c2","service":"banking-investment-api","stack":"MongoServerError: E11000 duplicate key error collection: prime.wallets index: address_1 dup key: { address: \"kjokjoiwjwkerji4r4nr94rnwjhrwinjjg9rsigr\" }\n    at InsertOneOperation.execute (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongodb\\lib\\operations\\insert.js:51:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async tryOperation (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:207:20)\n    at async executeOperation (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:75:16)\n    at async Collection.insertOne (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongodb\\lib\\collection.js:157:16)","timestamp":"2025-03-19 04:59:30","userId":"67c6aa2ae2f2dd28c65b2e1e"}
{"duration":"1973ms","ip":"::ffff:172.20.10.1","level":"error","message":"Response 500 sent for POST /api/v1/preloaded-wallets/assign","method":"POST","path":"/api/v1/preloaded-wallets/assign","requestId":"223d2d61-aeae-4693-b67e-bd1f815a07c2","response":{"errorCode":"SERVER_ERROR","message":"Failed to assign wallet to user","success":false,"title":"Error"},"service":"banking-investment-api","size":104,"statusCode":500,"timestamp":"2025-03-19 04:59:30","userAgent":"Expo/1017655 CFNetwork/1496.0.7 Darwin/23.5.0","userId":"unauthenticated"}
{"error":"E11000 duplicate key error collection: prime.preloadedwallets index: address_1 dup key: { address: \"kjokjoiwjwkerji4r4nr94rnwjhrwinjjg9rsigr\" }","level":"error","message":"Error creating preloaded wallet","requestId":"75752d37-ee34-4671-b855-d583671a034d","service":"banking-investment-api","stack":"MongoServerError: E11000 duplicate key error collection: prime.preloadedwallets index: address_1 dup key: { address: \"kjokjoiwjwkerji4r4nr94rnwjhrwinjjg9rsigr\" }\n    at InsertOneOperation.execute (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongodb\\lib\\operations\\insert.js:51:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async tryOperation (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:207:20)\n    at async executeOperation (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:75:16)\n    at async Collection.insertOne (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongodb\\lib\\collection.js:157:16)","timestamp":"2025-03-19 05:00:25"}
{"duration":"865ms","ip":"::1","level":"error","message":"Response 500 sent for POST /api/v1/preloaded-wallets","method":"POST","path":"/api/v1/preloaded-wallets","requestId":"75752d37-ee34-4671-b855-d583671a034d","response":{"errorCode":"SERVER_ERROR","message":"Error creating preloaded wallet","success":false,"title":"Error"},"service":"banking-investment-api","size":104,"statusCode":500,"timestamp":"2025-03-19 05:00:25","userAgent":"PostmanRuntime/7.43.0","userId":"unauthenticated"}
{"error":"Server selection timed out after 5000 ms","level":"error","message":"MongoDB connection error","service":"banking-investment-api","stack":"MongooseServerSelectionError: Server selection timed out after 5000 ms\n    at _handleConnectionErrors (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\connection.js:1165:11)\n    at NativeConnection.openUri (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\connection.js:1096:11)\n    at async connectDB (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\config\\db.js:26:18)","timestamp":"2025-03-19 05:06:57"}
{"currency":"ETH","error":"WalletApplication is not defined","level":"error","message":"Error assigning wallet to user","requestId":"560dc6dc-1b27-4b01-9d79-410309521797","service":"banking-investment-api","stack":"ReferenceError: WalletApplication is not defined\n    at Object.getUserWalletApplications (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\services\\waitlistService.js:19:21)\n    at assignWalletToSelf (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\controllers\\preloadedWalletController.js:419:60)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-03-19 05:12:27","userId":"67c6aa2ae2f2dd28c65b2e1e"}
{"duration":"2794ms","ip":"::ffff:172.20.10.1","level":"error","message":"Response 500 sent for POST /api/v1/preloaded-wallets/assign","method":"POST","path":"/api/v1/preloaded-wallets/assign","requestId":"560dc6dc-1b27-4b01-9d79-410309521797","response":{"errorCode":"SERVER_ERROR","message":"Failed to assign wallet to user","success":false,"title":"Error"},"service":"banking-investment-api","size":104,"statusCode":500,"timestamp":"2025-03-19 05:12:27","userAgent":"Expo/1017655 CFNetwork/1496.0.7 Darwin/23.5.0","userId":"unauthenticated"}
{"error":"Server selection timed out after 5000 ms","level":"error","message":"MongoDB connection error","service":"banking-investment-api","stack":"MongooseServerSelectionError: Server selection timed out after 5000 ms\n    at _handleConnectionErrors (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\connection.js:1165:11)\n    at NativeConnection.openUri (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\connection.js:1096:11)\n    at async connectDB (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\config\\db.js:26:18)","timestamp":"2025-03-19 05:13:20"}
{"error":"read ECONNRESET","level":"error","message":"Login error","requestId":"c9ff4872-23ea-437f-93a6-13751427a106","service":"banking-investment-api","stack":"MongoServerSelectionError: read ECONNRESET\n    at Topology.selectServer (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongodb\\lib\\sdam\\topology.js:321:38)\n    at async tryOperation (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:145:18)\n    at async executeOperation (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:75:16)\n    at async FindCursor._initialize (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongodb\\lib\\cursor\\find_cursor.js:61:26)\n    at async FindCursor.cursorInit (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongodb\\lib\\cursor\\abstract_cursor.js:633:27)\n    at async FindCursor.fetchBatch (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongodb\\lib\\cursor\\abstract_cursor.js:667:13)\n    at async FindCursor.next (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongodb\\lib\\cursor\\abstract_cursor.js:347:17)\n    at async Collection.findOne (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongodb\\lib\\collection.js:277:21)\n    at async model.Query._findOne (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\query.js:2661:15)\n    at async model.Query.exec (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\query.js:4456:63)","timestamp":"2025-03-19 11:51:02"}
{"duration":"5080ms","ip":"::ffff:172.20.10.1","level":"error","message":"Response 500 sent for POST /api/v1/auth/login","method":"POST","path":"/api/v1/auth/login","requestId":"c9ff4872-23ea-437f-93a6-13751427a106","response":{"errorCode":"LOGIN_ERROR","message":"Error during login","success":false,"title":"Login Failed"},"service":"banking-investment-api","size":97,"statusCode":500,"timestamp":"2025-03-19 11:51:02","userAgent":"Expo/1017655 CFNetwork/1496.0.7 Darwin/23.5.0","userId":"unauthenticated"}
{"error":"connection <monitor> to 52.86.171.236:27017 closed","level":"error","message":"Login error","requestId":"98e35097-6bc1-4b41-a4d0-d7bdc5e4419f","service":"banking-investment-api","stack":"MongoServerSelectionError: connection <monitor> to 52.86.171.236:27017 closed\n    at Topology.selectServer (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongodb\\lib\\sdam\\topology.js:321:38)\n    at async tryOperation (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:192:22)\n    at async executeOperation (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:75:16)\n    at async FindCursor._initialize (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongodb\\lib\\cursor\\find_cursor.js:61:26)\n    at async FindCursor.cursorInit (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongodb\\lib\\cursor\\abstract_cursor.js:633:27)\n    at async FindCursor.fetchBatch (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongodb\\lib\\cursor\\abstract_cursor.js:667:13)\n    at async FindCursor.next (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongodb\\lib\\cursor\\abstract_cursor.js:347:17)\n    at async [Symbol.asyncIterator] (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongodb\\lib\\cursor\\abstract_cursor.js:255:34)\n    at async FindCursor.toArray (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongodb\\lib\\cursor\\abstract_cursor.js:427:26)\n    at async model.Query._find (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\query.js:2381:14)","timestamp":"2025-03-19 12:10:57"}
{"duration":"17281ms","ip":"::ffff:172.20.10.1","level":"error","message":"Response 500 sent for POST /api/v1/auth/login","method":"POST","path":"/api/v1/auth/login","requestId":"98e35097-6bc1-4b41-a4d0-d7bdc5e4419f","response":{"errorCode":"LOGIN_ERROR","message":"Error during login","success":false,"title":"Login Failed"},"service":"banking-investment-api","size":97,"statusCode":500,"timestamp":"2025-03-19 12:10:57","userAgent":"Expo/1017655 CFNetwork/1496.0.7 Darwin/23.5.0","userId":"unauthenticated"}
{"error":"Server selection timed out after 5000 ms","level":"error","message":"MongoDB connection error","service":"banking-investment-api","stack":"MongooseServerSelectionError: Server selection timed out after 5000 ms\n    at _handleConnectionErrors (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\connection.js:1165:11)\n    at NativeConnection.openUri (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\connection.js:1096:11)\n    at async connectDB (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\config\\db.js:26:18)","timestamp":"2025-03-19 12:16:47"}
{"ip":"::ffff:172.20.10.1","level":"error","message":"Authorization attempted without authentication","requestId":"21a6e887-b0ad-4598-876f-c4f196410f2a","service":"banking-investment-api","timestamp":"2025-03-19 12:37:48"}
{"ip":"::ffff:172.20.10.1","level":"error","message":"Authorization attempted without authentication","requestId":"fcf488bf-9326-41ec-b8dd-981b37a95ccf","service":"banking-investment-api","timestamp":"2025-03-19 12:39:26"}
{"error":"Could not connect to any servers in your MongoDB Atlas cluster. One common reason is that you're trying to access the database from an IP that isn't whitelisted. Make sure your current IP address is on your Atlas cluster's IP whitelist: https://www.mongodb.com/docs/atlas/security-whitelist/","level":"error","message":"MongoDB connection error","service":"banking-investment-api","stack":"MongooseServerSelectionError: Could not connect to any servers in your MongoDB Atlas cluster. One common reason is that you're trying to access the database from an IP that isn't whitelisted. Make sure your current IP address is on your Atlas cluster's IP whitelist: https://www.mongodb.com/docs/atlas/security-whitelist/\n    at _handleConnectionErrors (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\connection.js:1165:11)\n    at NativeConnection.openUri (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\connection.js:1096:11)\n    at async connectDB (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\config\\db.js:26:18)","timestamp":"2025-03-19 12:45:07"}
{"error":"Server selection timed out after 5000 ms","level":"error","message":"MongoDB connection error","service":"banking-investment-api","stack":"MongooseServerSelectionError: Server selection timed out after 5000 ms\n    at _handleConnectionErrors (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\connection.js:1165:11)\n    at NativeConnection.openUri (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\connection.js:1096:11)\n    at async connectDB (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\config\\db.js:26:18)","timestamp":"2025-03-19 13:16:20"}
{"error":"Server selection timed out after 5000 ms","level":"error","message":"MongoDB connection error","service":"banking-investment-api","stack":"MongooseServerSelectionError: Server selection timed out after 5000 ms\n    at _handleConnectionErrors (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\connection.js:1165:11)\n    at NativeConnection.openUri (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\connection.js:1096:11)\n    at async connectDB (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\config\\db.js:26:18)","timestamp":"2025-03-19 13:18:02"}
{"error":"Schema hasn't been registered for model \"WalletBeneficiary\".\nUse mongoose.model(name, schema)","level":"error","message":"Login error","requestId":"9ebfc93b-e8b5-4732-9fd2-8c1e0e811cb9","service":"banking-investment-api","stack":"MissingSchemaError: Schema hasn't been registered for model \"WalletBeneficiary\".\nUse mongoose.model(name, schema)\n    at NativeConnection.model (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\connection.js:1491:13)\n    at _getModelFromConn (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\helpers\\populate\\getModelsMapForPopulate.js:579:15)\n    at addModelNamesToMap (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\helpers\\populate\\getModelsMapForPopulate.js:507:17)\n    at getModelsMapForPopulate (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\helpers\\populate\\getModelsMapForPopulate.js:208:7)\n    at _populatePath (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\model.js:4446:21)\n    at Function.populate (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\model.js:4413:21)\n    at C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\query.js:2605:11\n    at _init (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\query.js:3275:5)\n    at Document.init (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\document.js:654:5)\n    at Document.$init (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\document.js:667:42)","timestamp":"2025-03-19 13:21:12"}
{"duration":"1129ms","ip":"::ffff:172.20.10.1","level":"error","message":"Response 500 sent for POST /api/v1/auth/login","method":"POST","path":"/api/v1/auth/login","requestId":"9ebfc93b-e8b5-4732-9fd2-8c1e0e811cb9","response":{"errorCode":"LOGIN_ERROR","message":"Error during login","success":false,"title":"Login Failed"},"service":"banking-investment-api","size":97,"statusCode":500,"timestamp":"2025-03-19 13:21:12","userAgent":"Expo/1017655 CFNetwork/1496.0.7 Darwin/23.5.0","userId":"unauthenticated"}
{"error":"Wallet validation failed: image: Image is required","level":"error","message":"Error creating default account and wallet","service":"banking-investment-api","stack":"ValidationError: Wallet validation failed: image: Image is required\n    at Document.invalidate (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\document.js:3329:32)\n    at C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\document.js:3090:17\n    at C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\schemaType.js:1407:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)","timestamp":"2025-03-19 13:24:24","userId":"67dab7773f3d9d209cf4c6a3"}
{"error":"Wallet validation failed: image: Image is required","level":"error","message":"Registration error","requestId":"223dcaad-1ee4-4279-9e42-441d51a47c97","service":"banking-investment-api","stack":"ValidationError: Wallet validation failed: image: Image is required\n    at Document.invalidate (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\document.js:3329:32)\n    at C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\document.js:3090:17\n    at C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\schemaType.js:1407:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)","timestamp":"2025-03-19 13:24:24"}
{"duration":"1414ms","ip":"::1","level":"error","message":"Response 500 sent for POST /api/v1/auth/register","method":"POST","path":"/api/v1/auth/register","requestId":"223dcaad-1ee4-4279-9e42-441d51a47c97","response":{"errorCode":"REGISTRATION_ERROR","message":"Error registering user","success":false,"title":"Registration Failed"},"service":"banking-investment-api","size":115,"statusCode":500,"timestamp":"2025-03-19 13:24:24","userAgent":"PostmanRuntime/7.43.2","userId":"unauthenticated"}
{"error":"Wallet validation failed: image: Image is required","level":"error","message":"Error creating default account and wallet","service":"banking-investment-api","stack":"ValidationError: Wallet validation failed: image: Image is required\n    at Document.invalidate (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\document.js:3329:32)\n    at C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\document.js:3090:17\n    at C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\schemaType.js:1407:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)","timestamp":"2025-03-19 13:25:11","userId":"67dab7a6522c70bb47317877"}
{"error":"Wallet validation failed: image: Image is required","level":"error","message":"Registration error","requestId":"13723c76-d147-4a88-87e2-3318b1c5c772","service":"banking-investment-api","stack":"ValidationError: Wallet validation failed: image: Image is required\n    at Document.invalidate (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\document.js:3329:32)\n    at C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\document.js:3090:17\n    at C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\schemaType.js:1407:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)","timestamp":"2025-03-19 13:25:11"}
{"duration":"1084ms","ip":"::1","level":"error","message":"Response 500 sent for POST /api/v1/auth/register","method":"POST","path":"/api/v1/auth/register","requestId":"13723c76-d147-4a88-87e2-3318b1c5c772","response":{"errorCode":"REGISTRATION_ERROR","message":"Error registering user","success":false,"title":"Registration Failed"},"service":"banking-investment-api","size":115,"statusCode":500,"timestamp":"2025-03-19 13:25:11","userAgent":"PostmanRuntime/7.43.2","userId":"unauthenticated"}
{"error":"E11000 duplicate key error collection: prime.accounts index: routingNumber_1 dup key: { routingNumber: \"021000021\" }","level":"error","message":"Error creating default account and wallet","service":"banking-investment-api","stack":"MongoServerError: E11000 duplicate key error collection: prime.accounts index: routingNumber_1 dup key: { routingNumber: \"021000021\" }\n    at InsertOneOperation.execute (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongodb\\lib\\operations\\insert.js:51:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async tryOperation (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:207:20)\n    at async executeOperation (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:75:16)\n    at async Collection.insertOne (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongodb\\lib\\collection.js:157:16)","timestamp":"2025-03-19 13:30:18","userId":"67dab8d9763cca1bfbfea1e7"}
{"error":"E11000 duplicate key error collection: prime.accounts index: routingNumber_1 dup key: { routingNumber: \"021000021\" }","level":"error","message":"Registration error","requestId":"20440273-9034-4812-98e1-d1bf2671c189","service":"banking-investment-api","stack":"MongoServerError: E11000 duplicate key error collection: prime.accounts index: routingNumber_1 dup key: { routingNumber: \"021000021\" }\n    at InsertOneOperation.execute (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongodb\\lib\\operations\\insert.js:51:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async tryOperation (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:207:20)\n    at async executeOperation (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:75:16)\n    at async Collection.insertOne (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongodb\\lib\\collection.js:157:16)","timestamp":"2025-03-19 13:30:18"}
{"duration":"1101ms","ip":"::1","level":"error","message":"Response 500 sent for POST /api/v1/auth/register","method":"POST","path":"/api/v1/auth/register","requestId":"20440273-9034-4812-98e1-d1bf2671c189","response":{"errorCode":"REGISTRATION_ERROR","message":"Error registering user","success":false,"title":"Registration Failed"},"service":"banking-investment-api","size":115,"statusCode":500,"timestamp":"2025-03-19 13:30:18","userAgent":"PostmanRuntime/7.43.2","userId":"unauthenticated"}
{"error":"E11000 duplicate key error collection: prime.accounts index: routingNumber_1 dup key: { routingNumber: \"021000021\" }","level":"error","message":"Error creating default account and wallet","service":"banking-investment-api","stack":"MongoServerError: E11000 duplicate key error collection: prime.accounts index: routingNumber_1 dup key: { routingNumber: \"021000021\" }\n    at InsertOneOperation.execute (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongodb\\lib\\operations\\insert.js:51:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async tryOperation (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:207:20)\n    at async executeOperation (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:75:16)\n    at async Collection.insertOne (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongodb\\lib\\collection.js:157:16)","timestamp":"2025-03-19 13:31:01","userId":"67dab904fc80511374dc4eb9"}
{"error":"E11000 duplicate key error collection: prime.accounts index: routingNumber_1 dup key: { routingNumber: \"021000021\" }","level":"error","message":"Registration error","requestId":"5c1743c9-4201-4d1b-bbac-19795917140c","service":"banking-investment-api","stack":"MongoServerError: E11000 duplicate key error collection: prime.accounts index: routingNumber_1 dup key: { routingNumber: \"021000021\" }\n    at InsertOneOperation.execute (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongodb\\lib\\operations\\insert.js:51:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async tryOperation (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:207:20)\n    at async executeOperation (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:75:16)\n    at async Collection.insertOne (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongodb\\lib\\collection.js:157:16)","timestamp":"2025-03-19 13:31:01"}
{"duration":"2888ms","ip":"::1","level":"error","message":"Response 500 sent for POST /api/v1/auth/register","method":"POST","path":"/api/v1/auth/register","requestId":"5c1743c9-4201-4d1b-bbac-19795917140c","response":{"errorCode":"REGISTRATION_ERROR","message":"Error registering user","success":false,"title":"Registration Failed"},"service":"banking-investment-api","size":115,"statusCode":500,"timestamp":"2025-03-19 13:31:01","userAgent":"PostmanRuntime/7.43.2","userId":"unauthenticated"}
{"error":"Schema hasn't been registered for model \"WalletBeneficiary\".\nUse mongoose.model(name, schema)","level":"error","message":"Login error","requestId":"2f8a3470-473f-4dba-84ef-82ff4457dae6","service":"banking-investment-api","stack":"MissingSchemaError: Schema hasn't been registered for model \"WalletBeneficiary\".\nUse mongoose.model(name, schema)\n    at NativeConnection.model (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\connection.js:1491:13)\n    at _getModelFromConn (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\helpers\\populate\\getModelsMapForPopulate.js:579:15)\n    at addModelNamesToMap (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\helpers\\populate\\getModelsMapForPopulate.js:507:17)\n    at getModelsMapForPopulate (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\helpers\\populate\\getModelsMapForPopulate.js:208:7)\n    at _populatePath (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\model.js:4446:21)\n    at Function.populate (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\model.js:4413:21)\n    at C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\query.js:2605:11\n    at _init (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\query.js:3275:5)\n    at Document.init (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\document.js:654:5)\n    at Document.$init (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\document.js:667:42)","timestamp":"2025-03-19 13:32:37"}
{"duration":"1316ms","ip":"::ffff:172.20.10.1","level":"error","message":"Response 500 sent for POST /api/v1/auth/login","method":"POST","path":"/api/v1/auth/login","requestId":"2f8a3470-473f-4dba-84ef-82ff4457dae6","response":{"errorCode":"LOGIN_ERROR","message":"Error during login","success":false,"title":"Login Failed"},"service":"banking-investment-api","size":97,"statusCode":500,"timestamp":"2025-03-19 13:32:37","userAgent":"Expo/1017655 CFNetwork/1496.0.7 Darwin/23.5.0","userId":"unauthenticated"}
{"error":"Illegal arguments: undefined, string","level":"error","message":"Error setting passcode","requestId":"245b8d7b-c2c5-412d-bb8a-23ffef0f20cb","service":"banking-investment-api","stack":"Error: Illegal arguments: undefined, string\n    at _async (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\bcryptjs\\dist\\bcrypt.js:214:46)\n    at C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\bcryptjs\\dist\\bcrypt.js:223:17\n    at new Promise (<anonymous>)\n    at bcrypt.hash (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\bcryptjs\\dist\\bcrypt.js:222:20)\n    at exports.setPasscode (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\controllers\\authController.js:853:38)","timestamp":"2025-03-19 13:56:32","userId":"67dab92bfc80511374dc4eda"}
{"duration":"845ms","level":"error","message":"Response 500 sent for POST /api/v1/auth/set-passcode","method":"POST","path":"/api/v1/auth/set-passcode","requestId":"245b8d7b-c2c5-412d-bb8a-23ffef0f20cb","response":{"errorCode":"PASSCODE_ERROR","message":"Error setting passcode","success":false,"title":"Passcode Set Failed"},"service":"banking-investment-api","size":111,"statusCode":500,"timestamp":"2025-03-19 13:56:32","userAgent":"PostmanRuntime/7.39.1","userId":"unauthenticated"}
{"error":"Illegal arguments: undefined, string","level":"error","message":"Error setting passcode","requestId":"9c41571a-7c7a-4e2a-855c-85bd26988562","service":"banking-investment-api","stack":"Error: Illegal arguments: undefined, string\n    at _async (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\bcryptjs\\dist\\bcrypt.js:214:46)\n    at C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\bcryptjs\\dist\\bcrypt.js:223:17\n    at new Promise (<anonymous>)\n    at bcrypt.hash (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\bcryptjs\\dist\\bcrypt.js:222:20)\n    at exports.setPasscode (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\controllers\\authController.js:853:38)","timestamp":"2025-03-19 13:57:15","userId":"67dab92bfc80511374dc4eda"}
{"duration":"861ms","level":"error","message":"Response 500 sent for POST /api/v1/auth/set-passcode","method":"POST","path":"/api/v1/auth/set-passcode","requestId":"9c41571a-7c7a-4e2a-855c-85bd26988562","response":{"errorCode":"PASSCODE_ERROR","message":"Error setting passcode","success":false,"title":"Passcode Set Failed"},"service":"banking-investment-api","size":111,"statusCode":500,"timestamp":"2025-03-19 13:57:15","userAgent":"PostmanRuntime/7.39.1","userId":"unauthenticated"}
{"error":"Illegal arguments: undefined, string","level":"error","message":"Error setting passcode","requestId":"290cdf56-6778-4cfc-912a-a3f25ba3b656","service":"banking-investment-api","stack":"Error: Illegal arguments: undefined, string\n    at _async (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\bcryptjs\\dist\\bcrypt.js:214:46)\n    at C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\bcryptjs\\dist\\bcrypt.js:223:17\n    at new Promise (<anonymous>)\n    at bcrypt.hash (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\bcryptjs\\dist\\bcrypt.js:222:20)\n    at exports.setPasscode (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\controllers\\authController.js:853:38)","timestamp":"2025-03-19 13:57:39","userId":"67dab92bfc80511374dc4eda"}
{"duration":"851ms","level":"error","message":"Response 500 sent for POST /api/v1/auth/set-passcode","method":"POST","path":"/api/v1/auth/set-passcode","requestId":"290cdf56-6778-4cfc-912a-a3f25ba3b656","response":{"errorCode":"PASSCODE_ERROR","message":"Error setting passcode","success":false,"title":"Passcode Set Failed"},"service":"banking-investment-api","size":111,"statusCode":500,"timestamp":"2025-03-19 13:57:39","userAgent":"PostmanRuntime/7.39.1","userId":"unauthenticated"}
{"error":"Illegal arguments: undefined, string","level":"error","message":"Error setting passcode","requestId":"2e179a44-2aad-43c8-a5b2-70b93a06382b","service":"banking-investment-api","stack":"Error: Illegal arguments: undefined, string\n    at _async (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\bcryptjs\\dist\\bcrypt.js:214:46)\n    at C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\bcryptjs\\dist\\bcrypt.js:223:17\n    at new Promise (<anonymous>)\n    at bcrypt.hash (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\bcryptjs\\dist\\bcrypt.js:222:20)\n    at exports.setPasscode (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\controllers\\authController.js:853:38)","timestamp":"2025-03-19 13:58:32","userId":"67dab92bfc80511374dc4eda"}
{"duration":"2340ms","level":"error","message":"Response 500 sent for POST /api/v1/auth/set-passcode","method":"POST","path":"/api/v1/auth/set-passcode","requestId":"2e179a44-2aad-43c8-a5b2-70b93a06382b","response":{"errorCode":"PASSCODE_ERROR","message":"Error setting passcode","success":false,"title":"Passcode Set Failed"},"service":"banking-investment-api","size":111,"statusCode":500,"timestamp":"2025-03-19 13:58:32","userAgent":"PostmanRuntime/7.39.1","userId":"unauthenticated"}
{"error":"Illegal arguments: number, string","level":"error","message":"Error setting passcode","requestId":"12d95233-b733-4cbd-842f-eb69bccbff34","service":"banking-investment-api","stack":"Error: Illegal arguments: number, string\n    at _async (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\bcryptjs\\dist\\bcrypt.js:214:46)\n    at C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\bcryptjs\\dist\\bcrypt.js:223:17\n    at new Promise (<anonymous>)\n    at bcrypt.hash (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\bcryptjs\\dist\\bcrypt.js:222:20)\n    at exports.setPasscode (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\controllers\\authController.js:853:38)","timestamp":"2025-03-19 13:59:51","userId":"67dab92bfc80511374dc4eda"}
{"duration":"897ms","ip":"::1","level":"error","message":"Response 500 sent for POST /api/v1/auth/set-passcode","method":"POST","path":"/api/v1/auth/set-passcode","requestId":"12d95233-b733-4cbd-842f-eb69bccbff34","response":{"errorCode":"PASSCODE_ERROR","message":"Error setting passcode","success":false,"title":"Passcode Set Failed"},"service":"banking-investment-api","size":111,"statusCode":500,"timestamp":"2025-03-19 13:59:51","userAgent":"PostmanRuntime/7.43.2","userId":"unauthenticated"}
{"error":"Server selection timed out after 5000 ms","level":"error","message":"MongoDB connection error","service":"banking-investment-api","stack":"MongooseServerSelectionError: Server selection timed out after 5000 ms\n    at _handleConnectionErrors (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\connection.js:1165:11)\n    at NativeConnection.openUri (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\connection.js:1096:11)\n    at async connectDB (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\config\\db.js:26:18)","timestamp":"2025-03-19 14:00:22"}
{"error":"Could not connect to any servers in your MongoDB Atlas cluster. One common reason is that you're trying to access the database from an IP that isn't whitelisted. Make sure your current IP address is on your Atlas cluster's IP whitelist: https://www.mongodb.com/docs/atlas/security-whitelist/","level":"error","message":"MongoDB connection error","service":"banking-investment-api","stack":"MongooseServerSelectionError: Could not connect to any servers in your MongoDB Atlas cluster. One common reason is that you're trying to access the database from an IP that isn't whitelisted. Make sure your current IP address is on your Atlas cluster's IP whitelist: https://www.mongodb.com/docs/atlas/security-whitelist/\n    at _handleConnectionErrors (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\connection.js:1165:11)\n    at NativeConnection.openUri (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\connection.js:1096:11)\n    at async connectDB (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\config\\db.js:26:18)","timestamp":"2025-03-19 14:05:01"}
{"error":"Server selection timed out after 5000 ms","level":"error","message":"MongoDB connection error","service":"banking-investment-api","stack":"MongooseServerSelectionError: Server selection timed out after 5000 ms\n    at _handleConnectionErrors (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\connection.js:1165:11)\n    at NativeConnection.openUri (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\connection.js:1096:11)\n    at async connectDB (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\config\\db.js:26:18)","timestamp":"2025-03-19 14:37:03"}
{"error":"Server selection timed out after 5000 ms","level":"error","message":"MongoDB connection error","service":"banking-investment-api","stack":"MongooseServerSelectionError: Server selection timed out after 5000 ms\n    at _handleConnectionErrors (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\connection.js:1165:11)\n    at NativeConnection.openUri (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\connection.js:1096:11)\n    at async connectDB (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\config\\db.js:26:18)","timestamp":"2025-03-19 18:15:09"}
{"errorMessage":"WalletTransaction is not defined","errorStack":"ReferenceError: WalletTransaction is not defined\n    at exports.transferWalletToAccount (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\controllers\\transactionController.js:1668:31)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","level":"error","message":"Aborting database transaction due to error","requestId":"56c80a99-4b6c-4089-aa3f-7b8e7f2586af","service":"banking-investment-api","timestamp":"2025-03-19 18:26:36","userId":"67dab92bfc80511374dc4eda"}
{"error":"WalletTransaction is not defined","errorStack":"ReferenceError: WalletTransaction is not defined\n    at exports.transferWalletToAccount (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\controllers\\transactionController.js:1668:31)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","level":"error","message":"Wallet to account transfer failed:","requestBody":{"amount":"1","destinationAccountId":"67dab92bfc80511374dc4edc","sourceWalletId":"67dab92cfc80511374dc4ede"},"requestId":"56c80a99-4b6c-4089-aa3f-7b8e7f2586af","service":"banking-investment-api","timestamp":"2025-03-19 18:26:37","userId":"67dab92bfc80511374dc4eda"}
{"details":{},"error":{"message":"WalletTransaction is not defined","name":"ReferenceError","type":"SERVER_ERROR"},"level":"error","message":"[SERVER_ERROR] WalletTransaction is not defined","request":{"id":"56c80a99-4b6c-4089-aa3f-7b8e7f2586af","ip":"::ffff:172.20.10.1","method":"POST","url":"/api/v1/transactions/wallets/transfer/account","userAgent":"Expo/1017655 CFNetwork/1496.0.7 Darwin/23.5.0"},"service":"banking-investment-api","stack":"ReferenceError: WalletTransaction is not defined\n    at exports.transferWalletToAccount (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\controllers\\transactionController.js:1668:31)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-03-19 18:26:37","user":{"id":"67dab92bfc80511374dc4eda","role":"user"}}
{"duration":"2770ms","ip":"::ffff:172.20.10.1","level":"error","message":"Response 500 sent for POST /api/v1/transactions/wallets/transfer/account","method":"POST","path":"/api/v1/transactions/wallets/transfer/account","requestId":"56c80a99-4b6c-4089-aa3f-7b8e7f2586af","response":{"code":"SERVER_ERROR","message":"WalletTransaction is not defined","requestId":"56c80a99-4b6c-4089-aa3f-7b8e7f2586af","stack":"ReferenceError: WalletTransaction is not defined\n    at exports.transferWalletToAccount (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\controllers\\transactionController.js:1668:31)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","status":"error"},"service":"banking-investment-api","size":422,"statusCode":500,"timestamp":"2025-03-19 18:26:37","userAgent":"Expo/1017655 CFNetwork/1496.0.7 Darwin/23.5.0","userId":"unauthenticated"}
{"error":"querySrv ECONNREFUSED _mongodb._tcp.cluster0.cgmoocn.mongodb.net","level":"error","message":"MongoDB connection error","service":"banking-investment-api","stack":"Error: querySrv ECONNREFUSED _mongodb._tcp.cluster0.cgmoocn.mongodb.net\n    at QueryReqWrap.onresolve [as oncomplete] (node:internal/dns/promises:291:17)","timestamp":"2025-03-19 18:47:20"}
{"error":"querySrv ECONNREFUSED _mongodb._tcp.cluster0.cgmoocn.mongodb.net","level":"error","message":"MongoDB connection error","service":"banking-investment-api","stack":"Error: querySrv ECONNREFUSED _mongodb._tcp.cluster0.cgmoocn.mongodb.net\n    at QueryReqWrap.onresolve [as oncomplete] (node:internal/dns/promises:291:17)","timestamp":"2025-03-19 18:47:34"}
{"error":"Could not connect to any servers in your MongoDB Atlas cluster. One common reason is that you're trying to access the database from an IP that isn't whitelisted. Make sure your current IP address is on your Atlas cluster's IP whitelist: https://www.mongodb.com/docs/atlas/security-whitelist/","level":"error","message":"MongoDB connection error","service":"banking-investment-api","stack":"MongooseServerSelectionError: Could not connect to any servers in your MongoDB Atlas cluster. One common reason is that you're trying to access the database from an IP that isn't whitelisted. Make sure your current IP address is on your Atlas cluster's IP whitelist: https://www.mongodb.com/docs/atlas/security-whitelist/\n    at _handleConnectionErrors (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\connection.js:1165:11)\n    at NativeConnection.openUri (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\connection.js:1096:11)\n    at async connectDB (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\config\\db.js:26:18)","timestamp":"2025-03-19 18:48:23"}
{"error":"Server selection timed out after 5000 ms","level":"error","message":"MongoDB connection error","service":"banking-investment-api","stack":"MongooseServerSelectionError: Server selection timed out after 5000 ms\n    at _handleConnectionErrors (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\connection.js:1165:11)\n    at NativeConnection.openUri (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\connection.js:1096:11)\n    at async connectDB (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\config\\db.js:26:18)","timestamp":"2025-03-19 22:11:17"}
{"errorMessage":"sourceWallet is not defined","errorStack":"ReferenceError: sourceWallet is not defined\n    at exports.transferAccountToWallet (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\controllers\\transactionController.js:3144:24)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","level":"error","message":"Aborting database transaction due to error","requestId":"d1c8711a-16f8-463a-b7c4-58ad4d811c42","service":"banking-investment-api","timestamp":"2025-03-19 22:39:07","userId":"67dab92bfc80511374dc4eda"}
{"date":"Wed Mar 19 2025 22:39:07 GMT+0100 (West Africa Standard Time)","error":{"errorLabelSet":{}},"level":"error","message":"unhandledRejection: Cannot call abortTransaction after calling commitTransaction\nMongoTransactionError: Cannot call abortTransaction after calling commitTransaction\n    at ClientSession.abortTransaction (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongodb\\lib\\sessions.js:384:19)\n    at exports.transferAccountToWallet (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\controllers\\transactionController.js:3160:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","os":{"loadavg":[0,0,0],"uptime":106197.078},"process":{"argv":["C:\\Program Files\\nodejs\\node.exe","C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\server.js"],"cwd":"C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b","execPath":"C:\\Program Files\\nodejs\\node.exe","gid":null,"memoryUsage":{"arrayBuffers":18452841,"external":20824312,"heapTotal":32075776,"heapUsed":30923240,"rss":53559296},"pid":30120,"uid":null,"version":"v20.17.0"},"rejection":true,"service":"banking-investment-api","stack":"MongoTransactionError: Cannot call abortTransaction after calling commitTransaction\n    at ClientSession.abortTransaction (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongodb\\lib\\sessions.js:384:19)\n    at exports.transferAccountToWallet (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\controllers\\transactionController.js:3160:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-03-19 22:39:07","trace":[{"column":19,"file":"C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongodb\\lib\\sessions.js","function":"ClientSession.abortTransaction","line":384,"method":"abortTransaction","native":false},{"column":19,"file":"C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\controllers\\transactionController.js","function":"exports.transferAccountToWallet","line":3160,"method":"transferAccountToWallet","native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false}]}
{"error":"Cannot call abortTransaction after calling commitTransaction","level":"error","message":"UNHANDLED REJECTION! 💥 Shutting down...","name":"MongoTransactionError","service":"banking-investment-api","stack":"MongoTransactionError: Cannot call abortTransaction after calling commitTransaction\n    at ClientSession.abortTransaction (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongodb\\lib\\sessions.js:384:19)\n    at exports.transferAccountToWallet (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\controllers\\transactionController.js:3160:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-03-19 22:39:07"}
{"errorMessage":"sourceWallet is not defined","errorStack":"ReferenceError: sourceWallet is not defined\n    at exports.transferAccountToWallet (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\controllers\\transactionController.js:3144:24)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","level":"error","message":"Aborting database transaction due to error","requestId":"8f938455-e133-452b-b3df-fa8350300d0d","service":"banking-investment-api","timestamp":"2025-03-19 22:40:18","userId":"67dab92bfc80511374dc4eda"}
{"date":"Wed Mar 19 2025 22:40:18 GMT+0100 (West Africa Standard Time)","error":{"errorLabelSet":{}},"level":"error","message":"unhandledRejection: Cannot call abortTransaction after calling commitTransaction\nMongoTransactionError: Cannot call abortTransaction after calling commitTransaction\n    at ClientSession.abortTransaction (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongodb\\lib\\sessions.js:384:19)\n    at exports.transferAccountToWallet (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\controllers\\transactionController.js:3160:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","os":{"loadavg":[0,0,0],"uptime":106268.687},"process":{"argv":["C:\\Program Files\\nodejs\\node.exe","C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\server.js"],"cwd":"C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b","execPath":"C:\\Program Files\\nodejs\\node.exe","gid":null,"memoryUsage":{"arrayBuffers":18523635,"external":20895106,"heapTotal":32337920,"heapUsed":30277232,"rss":71782400},"pid":13308,"uid":null,"version":"v20.17.0"},"rejection":true,"service":"banking-investment-api","stack":"MongoTransactionError: Cannot call abortTransaction after calling commitTransaction\n    at ClientSession.abortTransaction (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongodb\\lib\\sessions.js:384:19)\n    at exports.transferAccountToWallet (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\controllers\\transactionController.js:3160:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-03-19 22:40:18","trace":[{"column":19,"file":"C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongodb\\lib\\sessions.js","function":"ClientSession.abortTransaction","line":384,"method":"abortTransaction","native":false},{"column":19,"file":"C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\controllers\\transactionController.js","function":"exports.transferAccountToWallet","line":3160,"method":"transferAccountToWallet","native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false}]}
{"error":"Cannot call abortTransaction after calling commitTransaction","level":"error","message":"UNHANDLED REJECTION! 💥 Shutting down...","name":"MongoTransactionError","service":"banking-investment-api","stack":"MongoTransactionError: Cannot call abortTransaction after calling commitTransaction\n    at ClientSession.abortTransaction (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongodb\\lib\\sessions.js:384:19)\n    at exports.transferAccountToWallet (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\controllers\\transactionController.js:3160:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-03-19 22:40:18"}
{"error":"Server selection timed out after 5000 ms","level":"error","message":"MongoDB connection error","service":"banking-investment-api","stack":"MongooseServerSelectionError: Server selection timed out after 5000 ms\n    at _handleConnectionErrors (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\connection.js:1165:11)\n    at NativeConnection.openUri (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\connection.js:1096:11)\n    at async connectDB (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\config\\db.js:26:18)","timestamp":"2025-03-19 22:41:11"}
{"errorMessage":"sourceWallet is not defined","errorStack":"ReferenceError: sourceWallet is not defined\n    at exports.transferAccountToWallet (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\controllers\\transactionController.js:3143:25)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","level":"error","message":"Aborting database transaction due to error","requestId":"adf54ff1-ecfb-40a4-a157-0c8909171900","service":"banking-investment-api","timestamp":"2025-03-19 22:41:48","userId":"67dab92bfc80511374dc4eda"}
{"date":"Wed Mar 19 2025 22:41:48 GMT+0100 (West Africa Standard Time)","error":{"errorLabelSet":{}},"level":"error","message":"unhandledRejection: Cannot call abortTransaction after calling commitTransaction\nMongoTransactionError: Cannot call abortTransaction after calling commitTransaction\n    at ClientSession.abortTransaction (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongodb\\lib\\sessions.js:384:19)\n    at exports.transferAccountToWallet (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\controllers\\transactionController.js:3159:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","os":{"loadavg":[0,0,0],"uptime":106358.125},"process":{"argv":["C:\\Program Files\\nodejs\\node.exe","C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\server.js"],"cwd":"C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b","execPath":"C:\\Program Files\\nodejs\\node.exe","gid":null,"memoryUsage":{"arrayBuffers":18447886,"external":20819357,"heapTotal":31289344,"heapUsed":29033904,"rss":70012928},"pid":29860,"uid":null,"version":"v20.17.0"},"rejection":true,"service":"banking-investment-api","stack":"MongoTransactionError: Cannot call abortTransaction after calling commitTransaction\n    at ClientSession.abortTransaction (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongodb\\lib\\sessions.js:384:19)\n    at exports.transferAccountToWallet (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\controllers\\transactionController.js:3159:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-03-19 22:41:48","trace":[{"column":19,"file":"C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongodb\\lib\\sessions.js","function":"ClientSession.abortTransaction","line":384,"method":"abortTransaction","native":false},{"column":19,"file":"C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\controllers\\transactionController.js","function":"exports.transferAccountToWallet","line":3159,"method":"transferAccountToWallet","native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false}]}
{"error":"Cannot call abortTransaction after calling commitTransaction","level":"error","message":"UNHANDLED REJECTION! 💥 Shutting down...","name":"MongoTransactionError","service":"banking-investment-api","stack":"MongoTransactionError: Cannot call abortTransaction after calling commitTransaction\n    at ClientSession.abortTransaction (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongodb\\lib\\sessions.js:384:19)\n    at exports.transferAccountToWallet (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\controllers\\transactionController.js:3159:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-03-19 22:41:48"}
{"error":"Server selection timed out after 5000 ms","level":"error","message":"MongoDB connection error","service":"banking-investment-api","stack":"MongooseServerSelectionError: Server selection timed out after 5000 ms\n    at _handleConnectionErrors (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\connection.js:1165:11)\n    at NativeConnection.openUri (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\connection.js:1096:11)\n    at async connectDB (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\config\\db.js:26:18)","timestamp":"2025-03-19 22:45:01"}
{"errorMessage":"sourceWallet is not defined","errorStack":"ReferenceError: sourceWallet is not defined\n    at exports.transferAccountToWallet (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\controllers\\transactionController.js:3143:25)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","level":"error","message":"Aborting database transaction due to error","requestId":"f9241956-6e12-4947-9738-e9ca0d2ed51a","service":"banking-investment-api","timestamp":"2025-03-19 22:46:01","userId":"67dab92bfc80511374dc4eda"}
{"date":"Wed Mar 19 2025 22:46:01 GMT+0100 (West Africa Standard Time)","error":{"errorLabelSet":{}},"level":"error","message":"unhandledRejection: Cannot call abortTransaction after calling commitTransaction\nMongoTransactionError: Cannot call abortTransaction after calling commitTransaction\n    at ClientSession.abortTransaction (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongodb\\lib\\sessions.js:384:19)\n    at exports.transferAccountToWallet (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\controllers\\transactionController.js:3159:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","os":{"loadavg":[0,0,0],"uptime":106610.75},"process":{"argv":["C:\\Program Files\\nodejs\\node.exe","C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\server.js"],"cwd":"C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b","execPath":"C:\\Program Files\\nodejs\\node.exe","gid":null,"memoryUsage":{"arrayBuffers":18500618,"external":20872089,"heapTotal":33910784,"heapUsed":31063544,"rss":74051584},"pid":16304,"uid":null,"version":"v20.17.0"},"rejection":true,"service":"banking-investment-api","stack":"MongoTransactionError: Cannot call abortTransaction after calling commitTransaction\n    at ClientSession.abortTransaction (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongodb\\lib\\sessions.js:384:19)\n    at exports.transferAccountToWallet (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\controllers\\transactionController.js:3159:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-03-19 22:46:01","trace":[{"column":19,"file":"C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongodb\\lib\\sessions.js","function":"ClientSession.abortTransaction","line":384,"method":"abortTransaction","native":false},{"column":19,"file":"C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\controllers\\transactionController.js","function":"exports.transferAccountToWallet","line":3159,"method":"transferAccountToWallet","native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false}]}
{"error":"Cannot call abortTransaction after calling commitTransaction","level":"error","message":"UNHANDLED REJECTION! 💥 Shutting down...","name":"MongoTransactionError","service":"banking-investment-api","stack":"MongoTransactionError: Cannot call abortTransaction after calling commitTransaction\n    at ClientSession.abortTransaction (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongodb\\lib\\sessions.js:384:19)\n    at exports.transferAccountToWallet (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\controllers\\transactionController.js:3159:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-03-19 22:46:01"}
{"error":"Could not connect to any servers in your MongoDB Atlas cluster. One common reason is that you're trying to access the database from an IP that isn't whitelisted. Make sure your current IP address is on your Atlas cluster's IP whitelist: https://www.mongodb.com/docs/atlas/security-whitelist/","level":"error","message":"MongoDB connection error","service":"banking-investment-api","stack":"MongooseServerSelectionError: Could not connect to any servers in your MongoDB Atlas cluster. One common reason is that you're trying to access the database from an IP that isn't whitelisted. Make sure your current IP address is on your Atlas cluster's IP whitelist: https://www.mongodb.com/docs/atlas/security-whitelist/\n    at _handleConnectionErrors (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\connection.js:1165:11)\n    at NativeConnection.openUri (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\connection.js:1096:11)\n    at async connectDB (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\config\\db.js:26:18)","timestamp":"2025-03-19 23:02:33"}
{"errorMessage":"destinationAccount is not defined","errorStack":"ReferenceError: destinationAccount is not defined\n    at exports.transferAccountToWallet (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\controllers\\transactionController.js:3077:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","level":"error","message":"Aborting database transaction due to error","requestId":"fd8bdade-b2db-4e72-a55c-b50d5af995a4","service":"banking-investment-api","timestamp":"2025-03-19 23:16:02","userId":"67dab92bfc80511374dc4eda"}
{"error":"destinationAccount is not defined","errorStack":"ReferenceError: destinationAccount is not defined\n    at exports.transferAccountToWallet (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\controllers\\transactionController.js:3077:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","level":"error","message":"Wallet to account transfer failed:","requestBody":{"amount":85000,"destinationWalletId":"67dab92cfc80511374dc4ede","sourceAccountId":"67dab92bfc80511374dc4edc"},"requestId":"fd8bdade-b2db-4e72-a55c-b50d5af995a4","service":"banking-investment-api","timestamp":"2025-03-19 23:16:03","userId":"67dab92bfc80511374dc4eda"}
{"details":{},"error":{"message":"destinationAccount is not defined","name":"ReferenceError","type":"SERVER_ERROR"},"level":"error","message":"[SERVER_ERROR] destinationAccount is not defined","request":{"id":"fd8bdade-b2db-4e72-a55c-b50d5af995a4","ip":"::ffff:172.20.10.1","method":"POST","url":"/api/v1/transactions/accounts/transfer/wallet","userAgent":"Expo/1017655 CFNetwork/1496.0.7 Darwin/23.5.0"},"service":"banking-investment-api","stack":"ReferenceError: destinationAccount is not defined\n    at exports.transferAccountToWallet (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\controllers\\transactionController.js:3077:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-03-19 23:16:03","user":{"id":"67dab92bfc80511374dc4eda","role":"user"}}
{"duration":"4502ms","ip":"::ffff:172.20.10.1","level":"error","message":"Response 500 sent for POST /api/v1/transactions/accounts/transfer/wallet","method":"POST","path":"/api/v1/transactions/accounts/transfer/wallet","requestId":"fd8bdade-b2db-4e72-a55c-b50d5af995a4","response":{"code":"SERVER_ERROR","message":"destinationAccount is not defined","requestId":"fd8bdade-b2db-4e72-a55c-b50d5af995a4","stack":"ReferenceError: destinationAccount is not defined\n    at exports.transferAccountToWallet (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\controllers\\transactionController.js:3077:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","status":"error"},"service":"banking-investment-api","size":424,"statusCode":500,"timestamp":"2025-03-19 23:16:03","userAgent":"Expo/1017655 CFNetwork/1496.0.7 Darwin/23.5.0","userId":"unauthenticated"}
{"error":"Server selection timed out after 5000 ms","level":"error","message":"MongoDB connection error","service":"banking-investment-api","stack":"MongooseServerSelectionError: Server selection timed out after 5000 ms\n    at _handleConnectionErrors (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\connection.js:1165:11)\n    at NativeConnection.openUri (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\connection.js:1096:11)\n    at async connectDB (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\config\\db.js:26:18)","timestamp":"2025-03-19 23:17:00"}
{"errorMessage":"WalletTransaction validation failed: destinationId: Path `destinationId` is required., sourceId: Path `sourceId` is required., currency: Currency is required, type: `Credit` is not a valid enum value for path `type`.","errorStack":"ValidationError: WalletTransaction validation failed: destinationId: Path `destinationId` is required., sourceId: Path `sourceId` is required., currency: Currency is required, type: `Credit` is not a valid enum value for path `type`.\n    at Document.invalidate (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\document.js:3329:32)\n    at C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\document.js:3090:17\n    at C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\schemaType.js:1407:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)","level":"error","message":"Aborting database transaction due to error","requestId":"6bfe1c73-e28b-4472-98de-e089bc017a38","service":"banking-investment-api","timestamp":"2025-03-19 23:17:58","userId":"67dab92bfc80511374dc4eda"}
{"error":"WalletTransaction validation failed: destinationId: Path `destinationId` is required., sourceId: Path `sourceId` is required., currency: Currency is required, type: `Credit` is not a valid enum value for path `type`.","errorStack":"ValidationError: WalletTransaction validation failed: destinationId: Path `destinationId` is required., sourceId: Path `sourceId` is required., currency: Currency is required, type: `Credit` is not a valid enum value for path `type`.\n    at Document.invalidate (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\document.js:3329:32)\n    at C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\document.js:3090:17\n    at C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\schemaType.js:1407:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)","level":"error","message":"Wallet to account transfer failed:","requestBody":{"amount":85000,"destinationWalletId":"67dab92cfc80511374dc4ede","sourceAccountId":"67dab92bfc80511374dc4edc"},"requestId":"6bfe1c73-e28b-4472-98de-e089bc017a38","service":"banking-investment-api","timestamp":"2025-03-19 23:17:58","userId":"67dab92bfc80511374dc4eda"}
{"errorMessage":"walletTransaction is not defined","errorStack":"ReferenceError: walletTransaction is not defined\n    at exports.transferAccountToWallet (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\controllers\\transactionController.js:3095:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","level":"error","message":"Aborting database transaction due to error","requestId":"e44c67cd-967f-47e9-aa54-4740eeff0f3d","service":"banking-investment-api","timestamp":"2025-03-19 23:21:19","userId":"67dab92bfc80511374dc4eda"}
{"error":"walletTransaction is not defined","errorStack":"ReferenceError: walletTransaction is not defined\n    at exports.transferAccountToWallet (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\controllers\\transactionController.js:3095:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","level":"error","message":"Wallet to account transfer failed:","requestBody":{"amount":85000,"destinationWalletId":"67dab92cfc80511374dc4ede","sourceAccountId":"67dab92bfc80511374dc4edc"},"requestId":"e44c67cd-967f-47e9-aa54-4740eeff0f3d","service":"banking-investment-api","timestamp":"2025-03-19 23:21:19","userId":"67dab92bfc80511374dc4eda"}
{"details":{},"error":{"message":"walletTransaction is not defined","name":"ReferenceError","type":"SERVER_ERROR"},"level":"error","message":"[SERVER_ERROR] walletTransaction is not defined","request":{"id":"e44c67cd-967f-47e9-aa54-4740eeff0f3d","ip":"::ffff:172.20.10.1","method":"POST","url":"/api/v1/transactions/accounts/transfer/wallet","userAgent":"Expo/1017655 CFNetwork/1496.0.7 Darwin/23.5.0"},"service":"banking-investment-api","stack":"ReferenceError: walletTransaction is not defined\n    at exports.transferAccountToWallet (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\controllers\\transactionController.js:3095:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-03-19 23:21:19","user":{"id":"67dab92bfc80511374dc4eda","role":"user"}}
{"duration":"4331ms","ip":"::ffff:172.20.10.1","level":"error","message":"Response 500 sent for POST /api/v1/transactions/accounts/transfer/wallet","method":"POST","path":"/api/v1/transactions/accounts/transfer/wallet","requestId":"e44c67cd-967f-47e9-aa54-4740eeff0f3d","response":{"code":"SERVER_ERROR","message":"walletTransaction is not defined","requestId":"e44c67cd-967f-47e9-aa54-4740eeff0f3d","stack":"ReferenceError: walletTransaction is not defined\n    at exports.transferAccountToWallet (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\controllers\\transactionController.js:3095:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","status":"error"},"service":"banking-investment-api","size":421,"statusCode":500,"timestamp":"2025-03-19 23:21:19","userAgent":"Expo/1017655 CFNetwork/1496.0.7 Darwin/23.5.0","userId":"unauthenticated"}
{"errorMessage":"WalletTransaction validation failed: destinationId: Path `destinationId` is required., sourceId: Path `sourceId` is required., currency: Currency is required","errorStack":"ValidationError: WalletTransaction validation failed: destinationId: Path `destinationId` is required., sourceId: Path `sourceId` is required., currency: Currency is required\n    at Document.invalidate (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\document.js:3329:32)\n    at C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\document.js:3090:17\n    at C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\schemaType.js:1407:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)","level":"error","message":"Aborting database transaction due to error","requestId":"c9daf182-a106-4a18-92e2-8944b4d2c7f1","service":"banking-investment-api","timestamp":"2025-03-19 23:22:02","userId":"67dab92bfc80511374dc4eda"}
{"error":"WalletTransaction validation failed: destinationId: Path `destinationId` is required., sourceId: Path `sourceId` is required., currency: Currency is required","errorStack":"ValidationError: WalletTransaction validation failed: destinationId: Path `destinationId` is required., sourceId: Path `sourceId` is required., currency: Currency is required\n    at Document.invalidate (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\document.js:3329:32)\n    at C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\document.js:3090:17\n    at C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\schemaType.js:1407:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)","level":"error","message":"Wallet to account transfer failed:","requestBody":{"amount":85000,"destinationWalletId":"67dab92cfc80511374dc4ede","sourceAccountId":"67dab92bfc80511374dc4edc"},"requestId":"c9daf182-a106-4a18-92e2-8944b4d2c7f1","service":"banking-investment-api","timestamp":"2025-03-19 23:22:02","userId":"67dab92bfc80511374dc4eda"}
{"error":"Could not connect to any servers in your MongoDB Atlas cluster. One common reason is that you're trying to access the database from an IP that isn't whitelisted. Make sure your current IP address is on your Atlas cluster's IP whitelist: https://www.mongodb.com/docs/atlas/security-whitelist/","level":"error","message":"MongoDB connection error","service":"banking-investment-api","stack":"MongooseServerSelectionError: Could not connect to any servers in your MongoDB Atlas cluster. One common reason is that you're trying to access the database from an IP that isn't whitelisted. Make sure your current IP address is on your Atlas cluster's IP whitelist: https://www.mongodb.com/docs/atlas/security-whitelist/\n    at _handleConnectionErrors (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\connection.js:1165:11)\n    at NativeConnection.openUri (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\node_modules\\mongoose\\lib\\connection.js:1096:11)\n    at async connectDB (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\config\\db.js:26:18)","timestamp":"2025-03-19 23:23:06"}
{"errorMessage":"walletTransaction is not defined","errorStack":"ReferenceError: walletTransaction is not defined\n    at exports.transferAccountToWallet (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\controllers\\transactionController.js:3103:28)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","level":"error","message":"Aborting database transaction due to error","requestId":"1669c6ed-0dd7-40f4-be5c-1a743cf8da12","service":"banking-investment-api","timestamp":"2025-03-19 23:24:41","userId":"67dab92bfc80511374dc4eda"}
{"error":"walletTransaction is not defined","errorStack":"ReferenceError: walletTransaction is not defined\n    at exports.transferAccountToWallet (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\controllers\\transactionController.js:3103:28)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","level":"error","message":"Wallet to account transfer failed:","requestBody":{"amount":85000,"destinationWalletId":"67dab92cfc80511374dc4ede","sourceAccountId":"67dab92bfc80511374dc4edc"},"requestId":"1669c6ed-0dd7-40f4-be5c-1a743cf8da12","service":"banking-investment-api","timestamp":"2025-03-19 23:24:41","userId":"67dab92bfc80511374dc4eda"}
{"details":{},"error":{"message":"walletTransaction is not defined","name":"ReferenceError","type":"SERVER_ERROR"},"level":"error","message":"[SERVER_ERROR] walletTransaction is not defined","request":{"id":"1669c6ed-0dd7-40f4-be5c-1a743cf8da12","ip":"::ffff:172.20.10.1","method":"POST","url":"/api/v1/transactions/accounts/transfer/wallet","userAgent":"Expo/1017655 CFNetwork/1496.0.7 Darwin/23.5.0"},"service":"banking-investment-api","stack":"ReferenceError: walletTransaction is not defined\n    at exports.transferAccountToWallet (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\controllers\\transactionController.js:3103:28)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-03-19 23:24:41","user":{"id":"67dab92bfc80511374dc4eda","role":"user"}}
{"duration":"4209ms","ip":"::ffff:172.20.10.1","level":"error","message":"Response 500 sent for POST /api/v1/transactions/accounts/transfer/wallet","method":"POST","path":"/api/v1/transactions/accounts/transfer/wallet","requestId":"1669c6ed-0dd7-40f4-be5c-1a743cf8da12","response":{"code":"SERVER_ERROR","message":"walletTransaction is not defined","requestId":"1669c6ed-0dd7-40f4-be5c-1a743cf8da12","stack":"ReferenceError: walletTransaction is not defined\n    at exports.transferAccountToWallet (C:\\Users\\dimojiakuo\\Desktop\\code\\Backend\\prime-b\\controllers\\transactionController.js:3103:28)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","status":"error"},"service":"banking-investment-api","size":422,"statusCode":500,"timestamp":"2025-03-19 23:24:41","userAgent":"Expo/1017655 CFNetwork/1496.0.7 Darwin/23.5.0","userId":"unauthenticated"}
